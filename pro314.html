<html>

<head>

    <title>JAVA PROGRAMMING</title>
    <link rel="stylesheet" href="style.css">

    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">

</head>

<body>


    <h1 class="c1">Core Java Tutorials</h1>

    <div class="demo">
        <a href="index.html">Home</a>
        <a href="content.html">Index</a>
        <a href="aboutjav.html">About</a>
    </div>
    
    <h1>Program 5:</h1>
    <li class="li">Delete the row in the table in the database from Java API.</li>
    <h2 class="h">Input:</h2>
<center>

          
    <p class="test1" style="white-space:pre; background-color:black; color:white;">
            
        //  Delete the row in the table in the database from Java API.

        import java.sql.Connection;
        import java.sql.DriverManager;
        import java.sql.Statement;
        import java.sql.SQLException;
        import java.sql.ResultSet;
        
        class Main {
            private static Connection con;
            private static int rows_affected;
        
            public static void main(String[] args) {
                
                try{
                    Class.forName("com.mysql.cj.jdbc.Driver");
                    con = DriverManager.getConnection("jdbc:mysql://localhost:3306/test","root","");
                    
                    Statement st = con.createStatement(ResultSet.TYPE_FORWARD_ONLY,ResultSet.CONCUR_UPDATABLE);
                    String sql = "DELETE FROM students";
                    
                    rows_affected = st.executeUpdate(sql);
                    System.out.println("Numbers of rows deleted : "+rows_affected);
                    
                    //telling user that he is deleting from an empty table.
                    ResultSet rs =  st.executeQuery("SELECT * FROM students");
                    if(!rs.next())
                    System.out.println("--------   Hey User, Your table is empty.  --------");
                }
                catch(ClassNotFoundException c)
                {
                    c.printStackTrace();
                }
                catch(SQLException s)
                {
                    s.printStackTrace();
                }
        
                if(con!=null) {
                    try {
                        con.close();
                    }
                    catch(SQLException sql_e) {
                        sql_e.printStackTrace();
                    }
                }
            }
        }
        </p>
    
</center>

    <h2 class="h">Output:</h2>
<center>
    <a href="pic\outpro22.png"><img src="pic\outpro22.png" class="img"></a>
    
</center>
    
    <div class="div">
        <a href="pro313.html" class="but1"><button class="but1">Back</button></a>
        <a href="content.html" class="but1"><button class="but1">Refresh</button></a>
        <a href="pro315.html" class="but1"><button class="but1">Next</button></a>
        
        
    </div>
    


</body>

</html>